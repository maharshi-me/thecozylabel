{% extends 'base.html' %}
{% load static %}


{% block content %}
<!--Carousel Wrapper-->
{% if carousels %}
<div id="carousel-example-1z" class="carousel slide carousel-fade mt-3" style='height:90vh;' data-ride="carousel">

  <!--Indicators-->
  <ol class="carousel-indicators">
  {% for carousel in carousels %}
  <li data-target="#carousel-example-1z" data-slide-to="{{forloop.counter}} {% if forloop.counter == 1 %}class="active"{% endif %}"></li>
  {% endfor %}
  </ol>
  <!--/.Indicators-->

  <!--Slides-->
  <div class="carousel-inner" role="listbox">
    

    {% for carousel in carousels %}

    <div class="carousel-item {% if forloop.counter == 1 %}active{% endif %} " style='width:100%;'>
      <div class="view" style="background-image: url('{{carousel.image.url}}'); background-repeat: no-repeat; background-size:cover;">
        
      </div>
    </div>    
    
    {% endfor %}


  </div>
  <!--/.Slides-->

  <!--Controls-->
  <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
  <!--/.Controls-->

</div>
{% endif %}
<!--/.Carousel Wrapper-->




<!--Main layout-->
<main>
  <div class="container">

 

  <!--Section: Products v.3-->
  <section class="text-center mb-4 mt-4">

    <!--Grid row-->
    <div class="row wow fadeIn">
        {% for product in products %}
          <!-- Grid column -->
      <div class="col-lg-3 col-md-4 col-sm-6 col-6 mb-4">
        <!-- Card -->
        <div class="card item-card card-cascade narrower card-ecommerce">
          <!-- Card image -->
          <div class="view overlay product-img zoom">
            <img src="{{product.image.url}}" class="card-img-top"
              alt="sample photo">
            <a href="{% url 'products:product_detail' product.id %}">
              <div class="mask rgba-white-slight"></div>
            </a>
          </div>
          <!-- Card image -->
          <!-- Card content -->
          <div class="card-body card-body-cascade text-center pb-3">
            <!-- Title -->
            <h5 class="card-title mb-1">
              <strong>
                <h6 class="card-title mb-1 title-font">
                  <strong>
                  <a href="{% url 'products:product_detail' product.id %}">{{product}}</a>
                  </strong>
                </h6>
              </strong>
            </h5>

            
              <span class="font-weight-bold">
                {% if product.discount_price %}
                    <span class="money"><strong>₹ {{product.discount_price|floatformat:0}}</strong></span>
                    
                
                    <span class='money-strike'><s>₹ {{product.price|floatformat:0}}</s></span>
                    
                    {% else %}
                    <span class="money"><strong>₹ {{product.price|floatformat:0}}</strong></span>
           
                    {% endif %}
              </span>
              
          </div>
          <!-- Card content -->
        </div>
        <!-- Card -->
      </div>
      <!-- Grid column -->
        {% endfor %}

    </section>
    <a href="/all_product"><button type="button" class="btn btn-primary btn-lg btn-block">Show All Products</button></a>
    <!--Section: Products v.3-->

    {% comment %}
      
    
    {% if is_paginated %}
    <!--Pagination-->
    <nav class="d-flex justify-content-center wow fadeIn">
      <ul class="pagination pg-blue">

        <!--Arrow left-->
        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{page_obj.previous_page_number}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        {% endif %}

        <li class="page-item active">
          <a class="page-link" href="?page={{page_obj.number}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">{{page_obj.number}}
            <span class="sr-only">(current)</span>

          </a>
        </li>

        {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{page_obj.next_page_number}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>
    <!--Pagination-->
    {% endif %}
  </div>
  {% endcomment %}

  </div>
  
</main>
<!--Main layout-->









{% endblock content %}
