{% extends 'admin_base.html' %}
{% block content %}


  <!--Main layout-->
  <main class="">
    <div class="container">

      <!--Grid row-->
      <div class="row wow fadeIn justify-content-center">

        <!--Grid column-->
        <div class="col-lg-12 col-md-12 col-sm-12 mb-4">
                 <!--Card-->
          <div class="card" style='width:100%; overflow-x:auto;'>

            <!--Card content-->
            <div class="card-body">

              <!-- Table  -->
              <table class="table">
                 <thead class="blue-grey lighten-4">
                  <tr>
                    <th colspan='2'>Order Details</th>

                  </tr>
                </thead>

                <!-- Table body -->
                <tbody>
                  <tr>
                    <th scope="row">Order Id</th>
                    <td>{{order.order_id}}</td>
                  </tr>
                  <tr>
                    <th scope="row">Customer</th>
                    <td>{{order.customer}}</td>
                  </tr>
                                    
                  <tr>
                    <th scope="row">Total Amount</th>
                    <td>Rs. {{order.total}}</td>
                  </tr>
                  <tr>
                    <th scope="row">Ordered Time</th>
                    <td>{{order.timestamp}}</td>
                  </tr>
                  
                  
                  <tr>
                    <th scope="row">Status</th>
                    <td>{% if order.is_paid %}
                            <span class="badge badge-success">Payment Success</span>
                        {% else %}
                            <span class="badge badge-warning">Payment Failed</span>
                        {% endif %}</td>
                  </tr>
                  <tr>
                    <th scope="row">TXN Id</th>
                    <td>{{order.transaction_id}}</td>
                  </tr>
                  <tr>
                    <th colspan='2'>Items</th>
                  </tr>
                  <tr>
                    <td colspan='2'>
                      <table class="table">
                        <thead class="lighten-4">
                          <tr>
                            <th scope='row'>#</th>
                            <th>Item</th>
                            <th>Size</th>
                            
                            <th>Quantity</th>
                            <th>Price Total</th>
                          </tr>
                        </thead>

                        <!-- Table body -->
                        <tbody>
                          {% for orderitem in order.orderitem_set.all %}
                          <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            
                            <td>{{orderitem.item_name}}</td>
                            <td>{{orderitem.size}}</td>
                            
                            <td>{{orderitem.quantity}}</td>
                            <td>{{orderitem.price_total}}</td>
                          </tr>
                          {% endfor %}

                        </tbody>
                        <!-- Table body -->
                      </table>
                    </td>
                  </tr>
                  <tr>
                    <th colspan='2'>Shipping Details</th>
                  </tr>
                  <tr>
                    <td>First Name</td>
                    <td>{{order.shipping_details.first_name}}</td>
                  </tr>
                  <tr>
                    <td>Last Name</td>
                    <td>{{order.shipping_details.last_name}}</td>
                  </tr>
                  <tr>
                    <td>Email</td>
                    <td>{{order.shipping_details.email}}</td>
                  </tr>
                  <tr>
                    <td>Address 1</td>
                    <td>{{order.shipping_details.address1}}</td>
                  </tr>
                  <tr>
                    <td>Address 2</td>
                    <td>{{order.shipping_details.address2}}</td>
                  </tr>
                  <tr>
                    <td>Mobile Number</td>
                    <td>{{order.shipping_details.phone}}</td>
                  </tr>
                  <tr>
                    <td>City</td>
                    <td>{{order.shipping_details.city}}</td>
                  </tr>
                  <tr>
                    <td>State</td>
                    <td>{{order.shipping_details.state}}</td>
                  </tr>
                  <tr>
                    <td>Zipcode</td>
                    <td>{{order.shipping_details.zipcode}}</td>
                  </tr>

                </tbody>
                <!-- Table body -->
              </table>
            </div>

          </div>
          <!--/.Card-->
        </div>
      </div>
    </div>
  </main>

{% endblock content %}